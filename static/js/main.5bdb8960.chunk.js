(this.webpackJsonpebuy=this.webpackJsonpebuy||[]).push([[0],{13:function(e,t,a){e.exports={cartPage:"CartPage_cartPage__1Yg0m",header:"CartPage_header__12GGH",products:"CartPage_products__1qgFy",checkout:"CartPage_checkout__2_t46",emptyCart:"CartPage_emptyCart__3elvO"}},16:function(e,t,a){e.exports={navbar:"Navbar_navbar__CLYHD",navbarContainer:"Navbar_navbarContainer__2w_-x",cartContainer:"Navbar_cartContainer__1Mqtt"}},19:function(e,t,a){e.exports={cart:"Cart_cart__rMsy1",quantity:"Cart_quantity__3pken",price:"Cart_price__jITK6"}},27:function(e,t,a){e.exports={searchBar:"Search_searchBar__1YPHb"}},30:function(e,t,a){e.exports={headerContainer:"Header_headerContainer__1YLYN"}},33:function(e,t,a){e.exports={products:"Products_products__3E-E-"}},34:function(e,t,a){e.exports={errorText:"NoResults_errorText__2HkRv"}},35:function(e,t,a){e.exports={notFound:"NotFound_notFound__2O4Ha"}},37:function(e,t,a){e.exports=a(55)},42:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),o=a.n(c),l=(a(42),a(7)),u=a(8),s=function(){return r.a.createElement("h1",{style:{fontSize:40,fontWeight:"900",whiteSpace:"nowrap"}},"E-Buy")},i=Object(n.createContext)(),m=a(27),d=a.n(m),p=function(){var e=Object(n.useContext)(i),t=e.searchProduct,a=e.input,c=e.setInput,o=Object(u.f)();return r.a.createElement("form",{className:d.a.searchBar,onSubmit:function(e){e.preventDefault(),t(a),o.push("/")}},r.a.createElement("input",{type:"text",name:"search",placeholder:"Search a product...",value:a,onChange:function(e){c(e.target.value)},required:!0}),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fa fa-search fa-lg"})))},E=a(19),_=a.n(E),f=function(){var e=Object(n.useContext)(i).totItems;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:_.a.cart},r.a.createElement("i",{className:"fas fa-shopping-cart fa-2x"}),r.a.createElement("div",{className:_.a.quantity},r.a.createElement("p",null,e))))},y=a(16),b=a.n(y),g=function(){return r.a.createElement("nav",{className:b.a.navbar},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:b.a.navbarContainer},r.a.createElement(l.b,{to:"/"},r.a.createElement("i",{className:"fas fa-home fa-2x"})),r.a.createElement(l.b,{to:"/cart"},r.a.createElement("div",{className:b.a.cartContainer},r.a.createElement(f,null))))))},v=a(30),h=a.n(v),O=function(){return r.a.createElement("header",null,r.a.createElement("div",{className:h.a.headerContainer},r.a.createElement(l.b,{to:"/"},r.a.createElement(s,null)),r.a.createElement(p,null),r.a.createElement(g,null)))},P=a(20),C=a.n(P),N=a(31),x=a.n(N),R=a(32),j=a(9),S=a.n(j),I=function(e){var t,a=e.data,c=Object(n.useContext)(i),o=c.addProductToCart,l=c.removeProductFromCart,u=a.quantity,s=a.id,m=a.title[0];try{t=a.galleryURL[0]}catch(E){console.log(E),t=null}var d="\u20ac ".concat(Number(a.sellingStatus[0].convertedCurrentPrice[0].__value__).toFixed(2)),p=function(e){u?l(s):o(s)};return r.a.createElement("div",{className:S.a.singleProduct},r.a.createElement("div",{className:S.a.img},t?r.a.createElement("img",{src:t,alt:m}):null),r.a.createElement("div",{className:S.a.content},r.a.createElement("h4",{className:S.a.title},m),r.a.createElement("h3",{className:S.a.price},d),u?r.a.createElement("button",{className:S.a.button,onClick:p},"Remove item"):r.a.createElement("button",{className:S.a.button,style:{background:"#45ba5b"},onClick:p},"Add item to cart")))},T=a(33),k=a.n(T),D=function(e){var t=e.results,a=Object(n.useContext)(i).searchProduct;return r.a.createElement("section",{className:k.a.products},t.map((function(e,n){var c=x()();return e.id=c,r.a.createElement(r.a.Fragment,{key:n},r.a.createElement(I,{data:e}),c===t[t.length-1].id&&r.a.createElement(R.a,{onEnter:function(){return a()}}))})))},A=a(34),w=a.n(A),F=function(e){var t=e.error;return r.a.createElement("p",{className:w.a.errorText},'No results for "',t,'"')},L=function(){var e=Object(n.useContext)(i),t=e.results,a=e.isLoading,c=e.error,o=e.showedProducts;return r.a.createElement(r.a.Fragment,null,a||0!==o?null:r.a.createElement("h3",{style:{marginTop:100,textAlign:"center"}},"Powered by Ebay Finding API"),a&&10===o?r.a.createElement(C.a,{loading:a,css:{margin:"200px auto auto auto"},color:"#111"}):null,a&&o>10?r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{results:t}),r.a.createElement(C.a,{loading:a,css:{margin:"auto auto 40px auto"},color:"#111"})):null,!a&&t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{results:t})):null,c.showError&&r.a.createElement(F,{error:c.text}))},q=a(12),U=a(6),B=a.n(U),Q=function(e){var t=e.product,a=Object(n.useContext)(i),c=a.changeQuantity,o=a.removeProductFromCart,l=Object(n.useState)(t.quantity),u=Object(q.a)(l,2),s=u[0],m=u[1],d=t.galleryURL,p=t.title,E=t.location,_=t.condition,f=(t.sellingStatus[0].currentPrice[0].__value__*s).toFixed(2);return Object(n.useEffect)((function(){c(t.id,s)}),[s]),r.a.createElement("div",{className:B.a.item},r.a.createElement("div",{className:B.a.image},r.a.createElement("img",{src:d,alt:p})),r.a.createElement("div",{className:B.a.description},r.a.createElement("div",{className:B.a.infos},r.a.createElement("h4",{className:B.a.title},p),r.a.createElement("small",null,"Sent from: ",E),r.a.createElement("small",null,"Condition: ",_[0].conditionDisplayName)),r.a.createElement("div",{className:B.a.manage},r.a.createElement("select",{onChange:function(e){m(Number(e.target.value))},value:s},r.a.createElement("option",{value:"1"},"Qty: 1"),r.a.createElement("option",{value:"2"},"Qty: 2"),r.a.createElement("option",{value:"3"},"Qty: 3"),r.a.createElement("option",{value:"4"},"Qty: 4"),r.a.createElement("option",{value:"5"},"Qty: 5"),r.a.createElement("option",{value:"6"},"Qty: 6"),r.a.createElement("option",{value:"7"},"Qty: 7"),r.a.createElement("option",{value:"8"},"Qty: 8"),r.a.createElement("option",{value:"9"},"Qty: 9"),r.a.createElement("option",{value:"10"},"Qty: 10")),r.a.createElement("small",{onClick:function(e){o(t.id)}},"Delete"))),r.a.createElement("div",{className:B.a.price},r.a.createElement("span",{className:B.a.euro},"\u20ac"),f))},H=a(13),Y=a.n(H),G=function(){var e=Object(n.useContext)(i),t=e.cart,a=e.totItems,c=e.totPrice,o=t.map((function(e){return r.a.createElement(Q,{product:e,key:e.id})}));return r.a.createElement("div",{className:Y.a.cartPage},r.a.createElement("div",{className:Y.a.header},r.a.createElement("h3",null,"Shopping Basket"),r.a.createElement("p",null,"Price")),r.a.createElement("div",{className:Y.a.products},o),t.length>0?r.a.createElement("div",{className:Y.a.checkout},r.a.createElement("h3",null,"Subtotal (",a," ",1===a?"item":"items","): \u20ac",c.toFixed(2)),r.a.createElement("button",null,"Proceed to Checkout")):r.a.createElement("h2",{className:Y.a.emptyCart},"Your cart is empty."))},K=a(35),M=a.n(K),V=function(){return r.a.createElement("div",{className:M.a.notFound},r.a.createElement("h1",null,"404"),r.a.createElement("h3",null,"Oooops"),r.a.createElement("h4",null,"This page doesn't exist!"))},X=a(22),J=a.n(X),z=a(36),W=a(2),Z=function(e,t){switch(t.type){case"SET_LOADING":return Object(W.a)(Object(W.a)({},e),{},{isLoading:!0,error:{showError:!1,text:""}});case"SET_INPUT":return Object(W.a)(Object(W.a)({},e),{},{input:t.payload});case"LOAD_PRODUCTS":return Object(W.a)(Object(W.a)({},e),{},{results:t.payload,isLoading:!1,error:{showError:!1,text:""}});case"ERROR":return Object(W.a)(Object(W.a)({},e),{},{error:{showError:!0,text:e.input},isLoading:!1,results:[]});case"ADD_PRODUCT":return Object(W.a)(Object(W.a)({},e),{},{cart:e.cart.concat(e.results.filter((function(e){return e.id===t.payload}))),results:e.results.map((function(e){return e.id===t.payload?(e.quantity=1,e):e}))});case"REMOVE_PRODUCT":return Object(W.a)(Object(W.a)({},e),{},{cart:e.cart.filter((function(e){return e.id!==t.payload})),results:e.results.map((function(e){return e.id===t.payload?(e.quantity=0,e):e}))});case"CHANGE_QUANTITY":return Object(W.a)(Object(W.a)({},e),{},{cart:e.cart.map((function(e){return e.id===t.payload.product?(e.quantity=t.payload.quantity,e):e}))});default:return e}};a(52).config();var $=function(e){var t=Object(n.useState)(""),a=Object(q.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(0),u=Object(q.a)(l,2),s=u[0],m=u[1],d=Object(n.useReducer)(Z,{cart:[],results:[],input:"",isLoading:!1,error:{showError:!1,text:""}}),p=Object(q.a)(d,2),E=p[0],_=p[1],f=E.cart.reduce((function(e,t){return e+t.quantity*Number(t.sellingStatus[0].currentPrice[0].__value__)}),0),y=E.cart.reduce((function(e,t){return e+t.quantity}),0),b=function(){var e=Object(z.a)(J.a.mark((function e(t){var a,n,r,l,u,i,d;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="https://cors-anywhere.herokuapp.com/https://svcs.ebay.com/services/search/FindingService/v1?OPERATION-NAME=findItemsByKeywords&SERVICE-VERSION=".concat("1.13.0","&SECURITY-APPNAME=").concat("LuigiDiP-allbuy-PRD-bc545f399-176ef3d6","&RESPONSE-DATA-FORMAT=json&REST-PAYLOAD&keywords="),g(),void 0!==t){e.next=23;break}return n=s+10,m(s+10),e.prev=5,e.next=8,fetch(c+String(n));case 8:return r=e.sent,e.next=11,r.json();case 11:if("0"!==(l=e.sent).findItemsByKeywordsResponse[0].searchResult[0]["@count"]){e.next=14;break}return e.abrupt("return",_({type:"ERROR"}));case 14:_({type:"LOAD_PRODUCTS",payload:l.findItemsByKeywordsResponse[0].searchResult[0].item}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),console.log(e.t0),_({type:"ERROR"});case 21:e.next=42;break;case 23:return u=t.replace(/\s+/g," ").trim().split(" ").join("%20"),m(10),e.prev=25,e.next=28,fetch("".concat(a).concat(u,"&paginationInput.entriesPerPage=10"));case 28:return i=e.sent,e.next=31,i.json();case 31:if("0"!==(d=e.sent).findItemsByKeywordsResponse[0].searchResult[0]["@count"]){e.next=34;break}return e.abrupt("return",_({type:"ERROR"}));case 34:o(i.url.slice(0,i.url.length-2)),_({type:"LOAD_PRODUCTS",payload:d.findItemsByKeywordsResponse[0].searchResult[0].item}),e.next=42;break;case 38:e.prev=38,e.t1=e.catch(25),console.log(e.t1),_({type:"ERROR"});case 42:case"end":return e.stop()}}),e,null,[[5,17],[25,38]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){return _({type:"SET_LOADING"})};return r.a.createElement(i.Provider,{value:{cart:E.cart,results:E.results,input:E.input,isLoading:E.isLoading,error:E.error,totPrice:f,totItems:y,showedProducts:s,setInput:function(e){return _({type:"SET_INPUT",payload:e})},searchProduct:b,addProductToCart:function(e){_({type:"ADD_PRODUCT",payload:e})},removeProductFromCart:function(e){_({type:"REMOVE_PRODUCT",payload:e})},changeQuantity:function(e,t){_({type:"CHANGE_QUANTITY",payload:{product:e,quantity:t}})}}},e.children)};var ee=function(){return r.a.createElement($,null,r.a.createElement(l.a,{basename:"/ebuy"},r.a.createElement(O,null),r.a.createElement("div",{className:"container"},r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:L}),r.a.createElement(u.a,{exact:!0,path:"/cart",component:G}),r.a.createElement(u.a,{component:V})))))};o.a.render(r.a.createElement(ee,null),document.getElementById("root"))},6:function(e,t,a){e.exports={item:"CartItem_item__3H-_x",image:"CartItem_image__2TN_U",description:"CartItem_description__3KA0d",infos:"CartItem_infos__ZikaF",manage:"CartItem_manage__3VV8E",price:"CartItem_price__3G8Px",euro:"CartItem_euro__1OqDH",cents:"CartItem_cents__1jeDx"}},9:function(e,t,a){e.exports={singleProduct:"SingleProduct_singleProduct__2kkcE",img:"SingleProduct_img__sVlhl",content:"SingleProduct_content__10un1",title:"SingleProduct_title__1YeNh",price:"SingleProduct_price__2eHpU",button:"SingleProduct_button__3g-dX",buttonAdded:"SingleProduct_buttonAdded__2cXBX",addButton:"SingleProduct_addButton__3DPPI"}}},[[37,1,2]]]);
//# sourceMappingURL=main.5bdb8960.chunk.js.map